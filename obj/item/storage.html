<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;item&#x2F;storage - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/item/storage.html#var">Var Details</a> - <a href="obj/item/storage.html#proc">Proc Details</a></header>
<main>
<h1>storage <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/storage.html">storage</a></aside>
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L8">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 8"/></a></h1>

<p>This contains what previously was known as stored_start, stored_continue, and stored_end</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/item/storage.html#var/can_hold_skill">can_hold_skill</a></th><td>Whether to use map-variant skins.
Special can_holds that require a skill to insert, it is an associated list of typepath = list(skilltype, skilllevel)</td></tr>
            <tr><th><a href="obj/item/storage.html#var/can_hold_skill_only">can_hold_skill_only</a></th><td>Dictates whether or not we only check for items in can_hold_skill rather than can_hold or free usage</td></tr>
            <tr><th><a href="obj/item/storage.html#var/required_skill_for_nest_opening">required_skill_for_nest_opening</a></th><td>The required skill for opening this storage if it is inside another storage type</td></tr>
            <tr><th><a href="obj/item/storage.html#var/required_skill_level_for_nest_opening">required_skill_level_for_nest_opening</a></th><td>The required level of a skill for opening this storage if it is inside another storage type</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/item/storage.html#proc/_item_insertion">_item_insertion</a></th><td><em>Inserts the item. Separate proc because handle_item_insertion isn't guaranteed to insert
and it therefore isn't safe to override it before calling parent. Updates icon when done.
Can be called directly but only if the item was spawned inside src - handle_item_insertion is safer.
W is always an item. stop_warning prevents messaging. user may be null.</em></td></tr>
            <tr><th><a href="obj/item/storage.html#proc/_item_removal">_item_removal</a></th><td>Separate proc because remove_from_storage isn't guaranteed to finish. Can be called directly if the target atom exists and is an item. Updates icon when done.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/handle_item_insertion">handle_item_insertion</a></th><td><em>Handler for inserting items. It does not perform any checks of whether an item can or can't be inserted into the storage item.
That's done by can_be_inserted(). Its checks are whether the item exists, is an item, and (if it's held by a mob) the mob can drop it.
The stop_warning parameter will stop the insertion message from being displayed. It is intended for cases where you are inserting multiple
items at once, such as when picking up all the items on a tile with one click.
user can be null, it refers to the potential mob doing the insertion.</em></td></tr>
            <tr><th><a href="obj/item/storage.html#proc/has_room">has_room</a></th><td>Returns TRUE if there is room for the given item. W_class_override allows checking for just a generic W_class, meant for checking shotgun handfuls without having to spawn and delete one just to check.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/hide_from">hide_from</a></th><td>Used to hide the storage's inventory screen.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/post_skin_selection">post_skin_selection</a></th><td>Things to be done after selecting a map skin (if any) and before adding inventory and updating icon for the first time. Most likely saving basic icon state.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/remove_from_storage">remove_from_storage</a></th><td>Call this proc to handle the removal of an item from the storage item. The item will be moved to the atom sent as new_target.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/storage_close">storage_close</a></th><td>Used to close the storage item. Used a lot - if tying it to special effects, use a content_watchers check to make sure it's closed properly and no-one's looking inside.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/can_hold_skill"><aside class="declaration">var </aside>can_hold_skill
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L34">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 34"/></a></h3>
        <p>Whether to use map-variant skins.
Special can_holds that require a skill to insert, it is an associated list of typepath = list(skilltype, skilllevel)</p><h3 id="var/can_hold_skill_only"><aside class="declaration">var </aside>can_hold_skill_only
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L37">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 37"/></a></h3>
        <p>Dictates whether or not we only check for items in can_hold_skill rather than can_hold or free usage</p><h3 id="var/required_skill_for_nest_opening"><aside class="declaration">var </aside>required_skill_for_nest_opening
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L40">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 40"/></a></h3>
        <p>The required skill for opening this storage if it is inside another storage type</p><h3 id="var/required_skill_level_for_nest_opening"><aside class="declaration">var </aside>required_skill_level_for_nest_opening
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L43">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 43"/></a></h3>
        <p>The required level of a skill for opening this storage if it is inside another storage type</p><h2 id="proc">Proc Details</h2><h3 id="proc/_item_insertion"><aside class="declaration">proc </aside>_item_insertion<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, prevent_warning, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L506">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 506"/></a></aside>
        </h3>
        <p><em>Inserts the item. Separate proc because handle_item_insertion isn't guaranteed to insert
and it therefore isn't safe to override it before calling parent. Updates icon when done.
Can be called directly but only if the item was spawned inside src - handle_item_insertion is safer.
W is always an item. stop_warning prevents messaging. user may be null.</em></p><h3 id="proc/_item_removal"><aside class="declaration">proc </aside>_item_removal<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, /<a href="atom.html">atom</a>/new_location) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L533">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 533"/></a></aside>
        </h3>
        <p>Separate proc because remove_from_storage isn't guaranteed to finish. Can be called directly if the target atom exists and is an item. Updates icon when done.</p><h3 id="proc/handle_item_insertion"><aside class="declaration">proc </aside>handle_item_insertion<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/new_item, prevent_warning, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L490">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 490"/></a></aside>
        </h3>
        <p><em>Handler for inserting items. It does not perform any checks of whether an item can or can't be inserted into the storage item.
That's done by can_be_inserted(). Its checks are whether the item exists, is an item, and (if it's held by a mob) the mob can drop it.
The stop_warning parameter will stop the insertion message from being displayed. It is intended for cases where you are inserting multiple
items at once, such as when picking up all the items on a tile with one click.
user can be null, it refers to the potential mob doing the insertion.</em></p><h3 id="proc/has_room"><aside class="declaration">proc </aside>has_room<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/new_item, W_class_override) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L397">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 397"/></a></aside>
        </h3>
        <p>Returns TRUE if there is room for the given item. W_class_override allows checking for just a generic W_class, meant for checking shotgun handfuls without having to spawn and delete one just to check.</p><h3 id="proc/hide_from"><aside class="declaration">proc </aside>hide_from<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L136">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 136"/></a></aside>
        </h3>
        <p>Used to hide the storage's inventory screen.</p><h3 id="proc/post_skin_selection"><aside class="declaration">proc </aside>post_skin_selection<aside>() 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L897">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 897"/></a></aside>
        </h3>
        <p>Things to be done after selecting a map skin (if any) and before adding inventory and updating icon for the first time. Most likely saving basic icon state.</p><h3 id="proc/remove_from_storage"><aside class="declaration">proc </aside>remove_from_storage<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, /<a href="atom.html">atom</a>/new_location) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L525">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 525"/></a></aside>
        </h3>
        <p>Call this proc to handle the removal of an item from the storage item. The item will be moved to the atom sent as new_target.</p><h3 id="proc/storage_close"><aside class="declaration">proc </aside>storage_close<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/cmss13-devs/cmss13-pve/blob/84539b193c06481295fdd3c5626e580f81b79146/code/game/objects/items/storage/storage.dm#L178">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 178"/></a></aside>
        </h3>
        <p>Used to close the storage item. Used a lot - if tying it to special effects, use a content_watchers check to make sure it's closed properly and no-one's looking inside.</p></main>
<footer>
    colonialmarines.dme
    <a href="https://github.com/cmss13-devs/cmss13-pve/tree/84539b193c06481295fdd3c5626e580f81b79146">84539b1</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
